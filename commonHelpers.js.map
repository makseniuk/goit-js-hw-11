{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["export function getPhotosByRequest(userRequest) {\n  const API_KEY = '42307458-71f98d2a331f0bd294b8fc1ec';\n\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINTS = '/api/';\n  const PARAMS = `?key=${API_KEY}&q=${userRequest}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  const url = BASE_URL + END_POINTS + PARAMS;\n\n  return fetch(url).then(res => res.json());\n}","import SimpleLightbox from 'simplelightbox';\n\nlet lightBox;\n\nexport const refs = {\n  form: document.querySelector('.form'),\n  input: document.querySelector('.input-search'),\n  button: document.querySelector('.button'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nexport function photosTemplate(photos) {\n  return photos\n    .map(data => {\n      return `\n      <li class=\"gallery-item\"><a href=\"${data.largeImageURL}\">\n            <img class=\"gallery-image\" src=\"${data.webformatURL}\" alt=\"${data.tags}\"></a>\n            <div class=\"info\">\n            <p> <span class=\"info-text\">Likes</span> <br/> ${data.likes}</p>\n            <p><span class=\"info-text\">Views</span> <br/> ${data.views}</p>\n            <p><span class=\"info-text\">Comments</span> <br/> ${data.comments}</p>\n            <p><span class=\"info-text\">Downloads</span> <br/> ${data.downloads}</p>\n            </div>\n            </li>\n      `;\n    })\n    .join('');\n}\n\nexport function renderPhotos(photos) {\n  const galleryMarkup = photosTemplate(photos);\n  refs.gallery.innerHTML = galleryMarkup;\n\n  if (typeof lightBox !== 'undefined') {\n    lightBox.refresh();\n  } else {\n    lightBox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  }\n}","'use strict';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { getPhotosByRequest } from './js/pixabay-api';\nimport { renderPhotos } from './js/render-function';\nimport { refs } from './js/render-function';\n\nrefs.loader.style.display = 'none';\n\nrefs.form.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  clearGallery();\n\n  e.preventDefault();\n  const userInput = refs.input.value.trim();\n  if (userInput === '') {\n    iziToast.error({\n      message: 'Please enter a search query.',\n      position: 'topRight',\n      transitionIn: 'fadeInLeft',\n    });\n    return;\n  }\n  refs.gallery.innerHTML = '';\n  refs.loader.style.display = 'block';\n\n  const userRequest = e.target.elements.search.value;\n  getPhotosByRequest(userRequest)\n    .then(data => {\n      if (data.hits.length === 0) {\n        refs.loader.style.display = 'none';\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          transitionIn: 'fadeInLeft',\n        });\n      } else {\n        renderPhotos(data.hits);\n      }\n    })\n    .catch(err => {\n      iziToast.error({\n        message: err.message || 'An error occurred. Please try again later.',\n        position: 'topRight',\n        transitionIn: 'fadeInLeft',\n      });\n    })\n    .finally(() => {\n      refs.loader.style.display = 'none';\n    });\n\n  e.target.reset();\n}\n\nfunction clearGallery() {\n  refs.gallery.innerHTML = '';\n}"],"names":["getPhotosByRequest","userRequest","API_KEY","BASE_URL","END_POINTS","PARAMS","url","res","lightBox","refs","photosTemplate","photos","data","renderPhotos","galleryMarkup","SimpleLightbox","onFormSubmit","e","clearGallery","iziToast","err"],"mappings":"6vBAAO,SAASA,EAAmBC,EAAa,CAC9C,MAAMC,EAAU,qCAEVC,EAAW,sBACXC,EAAa,QACbC,EAAS,QAAQH,CAAO,MAAMD,CAAW,2DAEzCK,EAAMH,EAAWC,EAAaC,EAEpC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC1C,CCRA,IAAIC,EAEG,MAAMC,EAAO,CAClB,KAAM,SAAS,cAAc,OAAO,EACpC,MAAO,SAAS,cAAc,eAAe,EAC7C,OAAQ,SAAS,cAAc,SAAS,EACxC,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEO,SAASC,EAAeC,EAAQ,CACrC,OAAOA,EACJ,IAAIC,GACI;AAAA,0CAC6BA,EAAK,aAAa;AAAA,8CACdA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA,6DAErBA,EAAK,KAAK;AAAA,4DACXA,EAAK,KAAK;AAAA,+DACPA,EAAK,QAAQ;AAAA,gEACZA,EAAK,SAAS;AAAA;AAAA;AAAA,OAIzE,EACA,KAAK,EAAE,CACZ,CAEO,SAASC,EAAaF,EAAQ,CACnC,MAAMG,EAAgBJ,EAAeC,CAAM,EAC3CF,EAAK,QAAQ,UAAYK,EAErB,OAAON,EAAa,IACtBA,EAAS,QAAO,EAEhBA,EAAW,IAAIO,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GACpB,CAAK,CAEL,CChCAN,EAAK,OAAO,MAAM,QAAU,OAE5BA,EAAK,KAAK,iBAAiB,SAAUO,CAAY,EAEjD,SAASA,EAAaC,EAAG,CAKvB,GAJAC,IAEAD,EAAE,eAAc,EACER,EAAK,MAAM,MAAM,KAAI,IACrB,GAAI,CACpBU,EAAS,MAAM,CACb,QAAS,+BACT,SAAU,WACV,aAAc,YACpB,CAAK,EACD,MACD,CACDV,EAAK,QAAQ,UAAY,GACzBA,EAAK,OAAO,MAAM,QAAU,QAE5B,MAAMR,EAAcgB,EAAE,OAAO,SAAS,OAAO,MAC7CjB,EAAmBC,CAAW,EAC3B,KAAKW,GAAQ,CACRA,EAAK,KAAK,SAAW,GACvBH,EAAK,OAAO,MAAM,QAAU,OAC5BU,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,aAAc,YACxB,CAAS,GAEDN,EAAaD,EAAK,IAAI,CAE9B,CAAK,EACA,MAAMQ,GAAO,CACZD,EAAS,MAAM,CACb,QAASC,EAAI,SAAW,6CACxB,SAAU,WACV,aAAc,YACtB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbX,EAAK,OAAO,MAAM,QAAU,MAClC,CAAK,EAEHQ,EAAE,OAAO,OACX,CAEA,SAASC,GAAe,CACtBT,EAAK,QAAQ,UAAY,EAC3B"}